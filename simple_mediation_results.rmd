```{r, include=FALSE}
options(tinytex.verbose = TRUE)
```

```{r}
#RQ: Does domain-specific movement behaviour profile membership mediate the relationship between socioeconomic position and socio-emotional outcomes in children?
##Simple mediation for males
```

```{r include=FALSE}
library(medflex)
library(dplyr)
library(haven)
library(rmarkdown)

```

```{r}
#Check results for mediation 
summary(male_effdecomp_prosocial) -> results_male_prosocial
#No mediation with prosocial behaviour 
results_male_prosocial$coefficients[1,1]
x <- broom::tidy(male_effdecomp_prosocial)
results <- x[,c("contrast", "estimate", "std.error", "adj.p.value")]
results$estimate <- paste0(round(estimate, digits = 2), " (", round(results$std.error, digits = 2), ")") 
results <- results %>% 
  rename_at('estimate', ~ 'Estimate (Standard Error)')
results[,"std.error"] <- list(NULL)
results$adj.p.value <- round(results$adj.p.value, digits = 2)
results <- results %>% 
  rename_at('adj.p.value', ~ 'p')
results <- as.data.frame(results)
#Perhaps try to add a row with the outcome name - overall goal is you want to make a function to extract the appropriate information from each outcome so you cna display the results to in a table 

estimate <- x$estimate %>% 
  round(digits = 2)
std.error <- x$std.error %>% 
  round(digits = 2)
p <- x$adj.p.value %>% 
  round(digits = 2)
results2 <- rbind(estimate, std.error, p) %>% 
  as.data.frame()
results2[,2]

t(x)
as.data.frame(y) -> y
y[,1]
```

```{r}
summary(male_effdecomp_hyperactivity)
#No mediation with hyperactivity 
```

```{r}
summary(male_effdecomp_emotional)
#No mediation with emotional problems 
```

```{r}
summary(male_effdecomp_peer)
#No mediation with peer problems 
```

```{r}
summary(male_effdecomp_conduct)
#No mediation with conduct problems 
```

```{r}
summary(female_effdecomp_total)
#No mediation with total strengths and difficulties 
```

```{r}
#Check results for mediation 
summary(female_effdecomp_prosocial)
#No mediation with prosocial behaviour 
```

```{r}
summary(female_effdecomp_hyperactivity)
#No mediation with hyperactivity 
```

```{r}
summary(female_effdecomp_emotional)
#No mediation with emotional problems 
```

```{r}
summary(female_effdecomp_peer)
#No mediation with peer problems 
```

```{r}
summary(female_effdecomp_conduct)
#No mediation with conduct problems 
```

```{r}
summary(female_effdecomp_total)
#No mediation with total strengths and difficulties 
```
